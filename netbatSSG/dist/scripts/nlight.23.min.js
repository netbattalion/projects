;(()=>{let i,ck="click",b="#ntbtlx ",d=document,sx,ex,dl=40,et=e=>e.target,q=(e,v)=>e.querySelectorAll(v),ev=(i,a,f)=>i.addEventListener(a,f),tc=e=>e.changedTouches[0].clientX,st=(a,b)=>setTimeout(a,b),$=v=>{let z=d.querySelector(v),t={d:z,e:(e,f)=>(ev(z,e,f),t),a:v=>(c.add(v),t),r:v=>(c.remove(v),t),p:v=>(s.opacity=v,t),v:v=>(s.height=v,t)},c=z.classList,s=z.style;return t},fw=()=>(++j==l&&(j=0),s()),bk=()=>(--j<0&&(j=l-1),s()),cl=e=>(et(e)==$(b).d||et(e)==$(b+"#c").d)&&($(b).p("0"),$(b+"#l").p("0"),st(()=>$(b).v("0"),250)),load=url=>new Promise(rs=>(ev(i=new Image,"load",e=>rs(i)),i.src=url,i)),s=()=>{$("#x").p("1"),load(k[j][0]).then(i=>{$(b+"#l").p("0"),st(()=>{$(b+"#s").d.setAttribute("src",i.src),$(b+"#t").d.innerHTML=k[j][1],st(()=>{$(b+"#l").p("1"),$("#x").p("0")},150)},250)})},n=d.createElement("div"),g=q(d,".nb-gallery"),y,j,k=[],l;for(i=0;i<g.length;i++)ev(g[i],ck,e=>{e.preventDefault(),p=v=>v.parentNode;for(var h=x=et(e);!h.classList.contains("nb-gallery");)h=p(h);for(v of(k=[],h=q(h,"a")))k.push([v.href,v.title]),v!=x&&v!=p(x)||(j=Array.from(h).indexOf(v));l=k.length,"IMG"==et(e).nodeName&&(s(),$(b).e(ck,cl).v("100%").p("1"))});n.id="ntbtlx",n.innerHTML='<div id="l" class="inv"><figure id="w"><img id="s"><ficgcaption id="t"></figcaption></figure></div><div id="b"></div><div id="c"></div><div id="f"></div><div id="x" class="inv"><div id="z"></div><div id="y"></div></div>',$("body").d.appendChild(n),$(b).a("inv").a("off"),$(b+"#b").e(ck,bk),$(b+"#f").e(ck,fw),$(b+"#c").e(ck,cl),y=$(b+"#l").e("touchstart",e=>(e.stopPropagation(),sx=tc(e)),!0),y.e("touchend",e=>(ex=parseInt(tc(e))-sx,ex>40?bk():ex<-40&&fw()),!1)})();
